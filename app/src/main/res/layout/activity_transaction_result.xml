<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F8FAFC">

    <!-- Green Header Background -->
    <View
        android:id="@+id/viewHeaderBg"
        android:layout_width="match_parent"
        android:layout_height="220dp"
        android:background="#D1FAE5" 
        app:layout_constraintTop_toTopOf="parent" />

    <!-- Receipt Card -->
    <androidx.cardview.widget.CardView
        android:id="@+id/cardReceipt"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginHorizontal="24dp"
        android:layout_marginTop="80dp"
        app:cardCornerRadius="16dp"
        app:cardElevation="8dp"
        app:cardBackgroundColor="#FFFFFF"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:paddingBottom="32dp">

            <!-- Success Icon Floating (Top Center of Card) -->
            <!-- Note: We anchor it inside content for simplicity, but visually overlapping top requires different structure. 
                 For simplicity matching structure, we put it at top with negative margin logic or just simple top padding -->
            <FrameLayout
                android:id="@+id/layoutIcon"
                android:layout_width="80dp"
                android:layout_height="80dp"
                android:layout_marginTop="32dp"
                android:background="@drawable/bg_success_circle"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintEnd_toEndOf="parent">

                <ImageView
                    android:id="@+id/ivResultIcon"
                    android:layout_width="48dp"
                    android:layout_height="48dp"
                    android:layout_gravity="center"
                    android:src="@drawable/ic_check"
                    app:tint="#FFFFFF" />
            </FrameLayout>

            <TextView
                android:id="@+id/tvTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Transaction Approved"
                android:textColor="#22C55E"
                android:textSize="20sp"
                android:textStyle="bold"
                android:layout_marginTop="16dp"
                app:layout_constraintTop_toBottomOf="@id/layoutIcon"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintEnd_toEndOf="parent" />

            <TextView
                android:id="@+id/tvSubtitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Payment completed successfully"
                android:textColor="#64748B"
                android:textSize="14sp"
                android:layout_marginTop="4dp"
                app:layout_constraintTop_toBottomOf="@id/tvTitle"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintEnd_toEndOf="parent" />

            <View
                android:id="@+id/divider1"
                android:layout_width="match_parent"
                android:layout_height="1dp"
                android:background="#E2E8F0"
                android:layout_marginHorizontal="24dp"
                android:layout_marginTop="24dp"
                app:layout_constraintTop_toBottomOf="@id/tvSubtitle" />

            <!-- Amount -->
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Amount Charged"
                android:textColor="#94A3B8"
                android:textSize="13sp"
                android:layout_marginTop="24dp"
                app:layout_constraintTop_toBottomOf="@id/divider1"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintEnd_toEndOf="parent" />

            <TextView
                android:id="@+id/tvAmount"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Ä‘4.568"
                android:textColor="#1E293B"
                android:textSize="32sp"
                android:textStyle="bold"
                android:layout_marginTop="44dp"
                app:layout_constraintTop_toBottomOf="@id/divider1"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintEnd_toEndOf="parent" />

            <View
                android:id="@+id/divider2"
                android:layout_width="match_parent"
                android:layout_height="1dp"
                android:background="#E2E8F0"
                android:layout_marginHorizontal="24dp"
                android:layout_marginTop="24dp"
                app:layout_constraintTop_toBottomOf="@id/tvAmount" />

            <!-- Details -->
            <LinearLayout
                android:id="@+id/layoutDetails"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:paddingHorizontal="24dp"
                android:layout_marginTop="24dp"
                app:layout_constraintTop_toBottomOf="@id/divider2">

                <!-- Row: Txn ID -->
                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp">
                    <TextView
                        android:text="Transaction ID"
                        android:textColor="#94A3B8"
                        android:textSize="14sp"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                    <TextView
                        android:id="@+id/tvTxnId"
                        android:text="TXN64532143"
                        android:textColor="#1E293B"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:layout_alignParentEnd="true"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                </RelativeLayout>

                <!-- Row: Date -->
                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp">
                    <TextView
                        android:text="Date &amp; Time"
                        android:textColor="#94A3B8"
                        android:textSize="14sp"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                    <TextView
                        android:id="@+id/tvDate"
                        android:text="14:55:32 6/2/2026"
                        android:textColor="#1E293B"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:layout_alignParentEnd="true"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                </RelativeLayout>

                <!-- Row: Type -->
                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp">
                    <TextView
                        android:text="Type"
                        android:textColor="#94A3B8"
                        android:textSize="14sp"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                    <TextView
                        android:id="@+id/tvType"
                        android:text="Purchase"
                        android:textColor="#1E293B"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:layout_alignParentEnd="true"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                </RelativeLayout>

                <!-- Row: Card -->
                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp">
                    <TextView
                        android:text="Card"
                        android:textColor="#94A3B8"
                        android:textSize="14sp"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                    <TextView
                        android:id="@+id/tvCardNum"
                        android:text="**** 4242"
                        android:textColor="#1E293B"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:layout_alignParentEnd="true"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                </RelativeLayout>

                <!-- Row: Status -->
                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content">
                    <TextView
                        android:text="Status"
                        android:textColor="#94A3B8"
                        android:textSize="14sp"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                    <TextView
                        android:id="@+id/tvStatus"
                        android:text="Approved"
                        android:textColor="#22C55E"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:layout_alignParentEnd="true"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"/>
                </RelativeLayout>

            </LinearLayout>

        </androidx.constraintlayout.widget.ConstraintLayout>

    </androidx.cardview.widget.CardView>

    <!-- Bottom Actions -->
    <LinearLayout
        android:id="@+id/layoutActions"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:layout_marginTop="24dp"
        android:paddingHorizontal="24dp"
        app:layout_constraintTop_toBottomOf="@id/cardReceipt">

        <android.widget.Button
            android:id="@+id/btnPrint"
            android:layout_width="0dp"
            android:layout_weight="1"
            android:layout_height="wrap_content"
            android:text="Print"
            android:textAllCaps="false"
            android:textColor="#1E293B"
            android:background="@drawable/bg_outline_button"
            android:layout_marginEnd="8dp"
            style="?android:attr/borderlessButtonStyle"/>

        <android.widget.Button
            android:id="@+id/btnShare"
            android:layout_width="0dp"
            android:layout_weight="1"
            android:layout_height="wrap_content"
            android:text="Share"
            android:textAllCaps="false"
            android:textColor="#1E293B"
            android:background="@drawable/bg_outline_button"
            android:layout_marginStart="8dp"
            style="?android:attr/borderlessButtonStyle"/>
    </LinearLayout>

    <com.google.android.material.button.MaterialButton
        android:id="@+id/btnClose"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Back to Dashboard"
        android:textAllCaps="false"
        android:paddingVertical="12dp"
        android:layout_marginHorizontal="24dp"
        android:layout_marginBottom="24dp"
        app:cornerRadius="8dp"
        app:layout_constraintBottom_toBottomOf="parent" />

    <!-- Details/ISO (Hidden) logic handled by code if needed, or remove for clean design -->
    <!-- Re-adding hidden ISO log for debug compatibility -->
    <TextView
        android:id="@+id/tvIsoLog"
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:visibility="gone"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintStart_toStartOf="parent" />
        
    <Button
        android:id="@+id/btnDetails"
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:visibility="gone"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintStart_toStartOf="parent" />
        
    <TextView
        android:id="@+id/tvReason"
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:visibility="gone"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintStart_toStartOf="parent" />

</androidx.constraintlayout.widget.ConstraintLayout>
